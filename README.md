# Enhanced DeepLog: Multi-Class Anomaly Classification

## ğŸš€ å¿«é€Ÿå¯¼èˆª

| ç”¨æˆ·ç±»å‹ | æ¨èé˜…è¯»é¡ºåº | ä¸»è¦æ–‡æ¡£ |
|---------|-------------|----------|
| **æ–°æ‰‹ç”¨æˆ·** | å¿«é€Ÿå¼€å§‹ â†’ é¡¹ç›®åŸç† â†’ æŠ€æœ¯æ¦‚è§ˆ | [å¿«é€Ÿå¼€å§‹](guide/quick_start.md) |
| **ç ”ç©¶äººå‘˜** | æŠ€æœ¯è®ºæ–‡ â†’ é¡¹ç›®åŸç† â†’ å¬å›ç‡ç­–ç•¥ | [æŠ€æœ¯è®ºæ–‡](guide/technical_paper.md) |
| **å·¥ç¨‹å¸ˆ** | å¿«é€Ÿå¼€å§‹ â†’ APIå‚è€ƒ â†’ æ»‘åŠ¨çª—å£ç®—æ³• | [APIå‚è€ƒ](guide/api_reference.md) |
| **è¿ç»´äººå‘˜** | é¡¹ç›®åŸç† â†’ å¿«é€Ÿå¼€å§‹ â†’ æ–‡æœ¬å¤„ç†æŒ‡å— | [é¡¹ç›®åŸç†](guide/project_principles.md) |
| **ç®—æ³•ç ”ç©¶è€…** | æ»‘åŠ¨çª—å£ç®—æ³• â†’ å¬å›ç‡ç­–ç•¥ â†’ æŠ€æœ¯è®ºæ–‡ | [æ»‘åŠ¨çª—å£ç®—æ³•](guide/sliding_window_explanation.md) |

## 1. é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯å¯¹ç»å…¸æ—¥å¿—å¼‚å¸¸æ£€æµ‹æ¨¡å‹DeepLogçš„å¢å¼ºå®ç°ï¼Œæ—¨åœ¨ä¸ä»…èƒ½è¯†åˆ«å¼‚å¸¸ï¼Œè¿˜èƒ½å¯¹å¼‚å¸¸è¿›è¡Œ**å¤šåˆ†ç±»**ã€‚æˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§æ–°é¢–çš„ã€åˆ†é˜¶æ®µçš„åŠç›‘ç£æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ›´ç¬¦åˆDeepLogçš„æ ¸å¿ƒæ€æƒ³ï¼Œå³**å¼‚å¸¸æ˜¯"å¯¹æ­£å¸¸æ¨¡å¼çš„åç¦»"**ã€‚

### æ ¸å¿ƒæ”¹è¿›
- **åˆ†é˜¶æ®µè®­ç»ƒ**: å°†ä»»åŠ¡åˆ†è§£ä¸ºï¼š1) è®­ç»ƒ"æ­£å¸¸æ¨¡å¼ä¸“å®¶"ï¼›2) æå–åå·®ç‰¹å¾ï¼›3) èšç±»å‘ç°å¼‚å¸¸ç±»åˆ«ï¼›4) è®­ç»ƒæœ€ç»ˆåˆ†ç±»å™¨ã€‚
- **é¿å…è¿‡æ‹Ÿåˆ**: å¼•å…¥éªŒè¯é›†å’Œæ—©åœæœºåˆ¶ï¼Œç¡®ä¿åŸºç¡€æ¨¡å‹å…·æœ‰æœ€ä½³çš„æ³›åŒ–èƒ½åŠ›ã€‚
- **æ•°æ®é©±åŠ¨çš„å¼‚å¸¸å®šä¹‰**: ä½¿ç”¨æ— ç›‘ç£èšç±»æ¥è‡ªåŠ¨å‘ç°å’Œå®šä¹‰å¼‚å¸¸ç±»åˆ«ï¼Œè€Œä¸æ˜¯ä¾èµ–äºé¢„å…ˆè®¾å®šçš„äººå·¥è§„åˆ™ã€‚
- **æ¨¡å—åŒ–ä»£ç ç»“æ„**: å°†æ•°æ®å¤„ç†ã€æ¨¡å‹å®šä¹‰ã€è®­ç»ƒã€è¯„ä¼°ç­‰åŠŸèƒ½è§£è€¦ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

### ğŸ“– è¯¦ç»†åŸç†è¯´æ˜
- **æŠ€æœ¯è®ºæ–‡**: [`guide/technical_paper.md`](guide/technical_paper.md) - å®Œæ•´çš„å­¦æœ¯è®ºæ–‡ï¼ŒåŒ…å«æ•°å­¦å…¬å¼å’Œå®éªŒåˆ†æ
- **é¡¹ç›®åŸç†**: [`guide/project_principles.md`](guide/project_principles.md) - è¯¦ç»†çš„æŠ€æœ¯åŸç†å’Œå·¥ä½œæµç¨‹è¯´æ˜

## ğŸ“š å®Œæ•´æ–‡æ¡£ä½“ç³»

æœ¬é¡¹ç›®æä¾›äº†å®Œæ•´çš„æ–‡æ¡£ä½“ç³»ï¼Œå¸®åŠ©æ‚¨ä»ä¸åŒè§’åº¦ç†è§£å’Œä½¿ç”¨å¢å¼ºDeepLogï¼š

### ğŸ¯ æ ¸å¿ƒæ–‡æ¡£
- **[æŠ€æœ¯è®ºæ–‡](guide/technical_paper.md)** - å®Œæ•´çš„å­¦æœ¯è®ºæ–‡ï¼ŒåŒ…å«æ•°å­¦å…¬å¼ã€å®éªŒè®¾è®¡å’Œç»“æœåˆ†æ
- **[é¡¹ç›®åŸç†](guide/project_principles.md)** - è¯¦ç»†çš„æŠ€æœ¯åŸç†ã€å·¥ä½œæµç¨‹å’Œæ¶æ„è¯´æ˜
- **[æŠ€æœ¯æ¦‚è§ˆ](guide/technical_overview.md)** - æŠ€æœ¯æ¶æ„å’Œæ ¸å¿ƒæ¦‚å¿µçš„å…¨é¢ä»‹ç»

### ğŸš€ ä½¿ç”¨æŒ‡å—
- **[å¿«é€Ÿå¼€å§‹](guide/quick_start.md)** - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å—
- **[APIå‚è€ƒ](guide/api_reference.md)** - å®Œæ•´çš„APIæ–‡æ¡£å’Œä»£ç ç¤ºä¾‹
- **[æ–‡æœ¬å¤„ç†æŒ‡å—](guide/text_processing_guide.md)** - æ—¥å¿—æ–‡æœ¬å¤„ç†çš„æœ€ä½³å®è·µ

### ğŸ”§ ç®—æ³•è¯¦è§£
- **[æ»‘åŠ¨çª—å£ç®—æ³•](guide/sliding_window_explanation.md)** - æ»‘åŠ¨çª—å£åˆ†å‰²ç®—æ³•çš„è¯¦ç»†è§£é‡Šå’Œå®ç°
- **[å¬å›ç‡æå‡ç­–ç•¥](guide/recall_improvement_strategies.md)** - æé«˜æ¨¡å‹å¬å›ç‡çš„å®Œæ•´ç­–ç•¥å’Œä»£ç å®ç°

### ğŸ“‹ æ–‡æ¡£ç®¡ç†
- **[æ–‡æ¡£æ€»ç»“](guide/documentation_summary.md)** - æ‰€æœ‰æ–‡æ¡£çš„ç´¢å¼•å’Œå¯¼èˆªæŒ‡å—

### ğŸ“Š æ–‡æ¡£ç»Ÿè®¡
- **æ€»æ–‡æ¡£æ•°**: 9ä¸ªä¸“ä¸šæ–‡æ¡£
- **æ€»å­—æ•°**: çº¦100,000å­—
- **ä»£ç ç¤ºä¾‹**: 200+ä¸ªä»£ç ç‰‡æ®µ
- **æ•°å­¦å…¬å¼**: 20+ä¸ªæ ¸å¿ƒå…¬å¼
- **å›¾è¡¨**: 10+ä¸ªæ¶æ„å›¾å’Œæµç¨‹å›¾

## 2. æŠ€æœ¯æ¶æ„

æˆ‘ä»¬çš„Pipelineåˆ†ä¸ºå››ä¸ªä¸»è¦é˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µç”±ä¸€ä¸ªç‹¬ç«‹çš„è„šæœ¬è´Ÿè´£ï¼š

1.  **`scripts/01_train_base_model.py`**: **è®­ç»ƒ"æ­£å¸¸æ¨¡å¼ä¸“å®¶"**
    *   **è¾“å…¥**: æ­£å¸¸æ—¥å¿—åºåˆ—ã€‚
    *   **è¿‡ç¨‹**: è®­ç»ƒä¸€ä¸ªä¸“é—¨å­¦ä¹ æ­£å¸¸è¡Œä¸ºæ¨¡å¼çš„LSTMæ¨¡å‹ã€‚
    *   **è¾“å‡º**: `models/base_model.pth`ï¼Œä¸€ä¸ªèƒ½å¤Ÿç²¾ç¡®é¢„æµ‹æ­£å¸¸åºåˆ—åç»­äº‹ä»¶çš„æ¨¡å‹ã€‚

2.  **`scripts/02_extract_features.py`**: **æå–åå·®ç‰¹å¾**
    *   **è¾“å…¥**: `base_model.pth` å’Œæ‰€æœ‰æ—¥å¿—åºåˆ—ï¼ˆæ­£å¸¸+å¼‚å¸¸ï¼‰ã€‚
    *   **è¿‡ç¨‹**: åˆ©ç”¨åŸºç¡€æ¨¡å‹å¯¹æ‰€æœ‰åºåˆ—è¿›è¡Œé¢„æµ‹ï¼Œé‡åŒ–å…¶"é¢„æµ‹åå·®"ï¼Œå¹¶ç»“åˆç»Ÿè®¡å’Œæ¨¡å¼ç‰¹å¾ï¼Œä¸ºæ¯ä¸ªåºåˆ—ç”Ÿæˆä¸€ä¸ªé«˜ç»´ç‰¹å¾å‘é‡ã€‚
    *   **è¾“å‡º**: `data/processed/features.npy` å’Œ `labels.npy`ã€‚

3.  **`scripts/03_cluster_anomalies.py`**: **è‡ªåŠ¨å‘ç°å¼‚å¸¸ç±»åˆ«**
    *   **è¾“å…¥**: `features.npy`ï¼ˆä»…å¼‚å¸¸éƒ¨åˆ†çš„ç‰¹å¾ï¼‰ã€‚
    *   **è¿‡ç¨‹**: ä½¿ç”¨K-Meansç­‰èšç±»ç®—æ³•å¯¹å¼‚å¸¸ç‰¹å¾è¿›è¡Œåˆ†ç»„ï¼Œè‡ªåŠ¨åˆ’åˆ†å‡ºä¸åŒçš„å¼‚å¸¸æ¨¡å¼ã€‚
    *   **è¾“å‡º**: `models/cluster_model.pkl` å’Œ `data/processed/cluster_labels.npy`ã€‚

4.  **`scripts/04_train_multiclass_model.py`**: **è®­ç»ƒå¤šåˆ†ç±»å™¨**
    *   **è¾“å…¥**: åŸå§‹åºåˆ—æ•°æ® å’Œ `cluster_labels.npy`ã€‚
    *   **è¿‡ç¨‹**: è®­ç»ƒä¸€ä¸ªç«¯åˆ°ç«¯çš„ `EnhancedDeepLogModel`ï¼Œè¯¥æ¨¡å‹ä»¥åŸå§‹åºåˆ—ä¸ºè¾“å…¥ï¼Œç›´æ¥è¾“å‡ºå…·ä½“çš„å¼‚å¸¸ç±»åˆ«ã€‚
    *   **è¾“å‡º**: `models/multiclass_model.pth`ï¼Œæœ€ç»ˆçš„åº”ç”¨æ¨¡å‹ã€‚

## 3. ä¸åŸå§‹DeepLogçš„å…³ç³»

### 3.1 æ ¸å¿ƒåŸç†çš„å®Œå…¨ä¿ç•™

æœ¬å¢å¼ºæ¨¡å‹**å®Œå…¨ä¿ç•™äº†åŸå§‹DeepLogçš„æ ¸å¿ƒåŸç†**ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

#### **é˜¶æ®µä¸€ï¼šæ­£å¸¸æ¨¡å¼å­¦ä¹ ï¼ˆå®Œå…¨æ²¿ç”¨DeepLogï¼‰**
```python
# åœ¨ scripts/01_train_base_model.py ä¸­
class SimpleLSTM(nn.Module):
    def __init__(self, input_size, hidden_size, num_layers, num_keys):
        # å®Œå…¨æŒ‰ç…§DeepLogçš„æ¶æ„è®¾è®¡
        self.lstm = nn.LSTM(input_size, hidden_size, num_layers, batch_first=True, dropout=0.2)
        self.fc = nn.Linear(hidden_size, num_keys)  # é¢„æµ‹ä¸‹ä¸€ä¸ªäº‹ä»¶ç±»å‹
```

**å…³é”®ç‚¹**ï¼š
- **è®­ç»ƒæ•°æ®**ï¼šåªä½¿ç”¨æ­£å¸¸æ—¥å¿—åºåˆ—è¿›è¡Œè®­ç»ƒ
- **å­¦ä¹ ç›®æ ‡**ï¼šå­¦ä¹ æ­£å¸¸æ“ä½œä¸‹æ—¥å¿—åºåˆ—çš„è¯­æ³•å’Œè¯­ä¹‰è§„åˆ™
- **é¢„æµ‹æœºåˆ¶**ï¼šç»™å®šåºåˆ—å‰ç¼€ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ªå¯èƒ½çš„æ—¥å¿—äº‹ä»¶
- **å¼‚å¸¸æ£€æµ‹åŸç†**ï¼šå½“é¢„æµ‹å¤±è´¥æ—¶ï¼Œè®¤ä¸ºæ£€æµ‹åˆ°äº†å¼‚å¸¸

#### **é˜¶æ®µäºŒï¼šæ·±åº¦ç‰¹å¾æå–ï¼ˆDeepLogéšçŠ¶æ€çš„å†åˆ©ç”¨ï¼‰**
```python
# åœ¨ scripts/02_extract_features.py ä¸­
def extract_features_for_all_sequences(config, model, preprocessor, feature_engineer, data_path, label_path):
    # ä½¿ç”¨è®­ç»ƒå¥½çš„DeepLogæ¨¡å‹æå–LSTMéšçŠ¶æ€
    with torch.no_grad():
        for batch in data_loader:
            lstm_out, (hidden, cell) = model.lstm(batch.unsqueeze(-1).float())
            # å–æœ€åä¸€å±‚çš„éšçŠ¶æ€ä½œä¸ºç‰¹å¾
            batch_features = hidden[-1].cpu().numpy()
```

**åˆ›æ–°ç‚¹**ï¼š
- **éšçŠ¶æ€åˆ©ç”¨**ï¼šå°†DeepLogæ¨¡å‹åœ¨å¤„ç†å¼‚å¸¸åºåˆ—æ—¶çš„LSTMéšçŠ¶æ€ä½œä¸º"æ·±åº¦ç‰¹å¾"
- **ä¿¡æ¯ä¿ç•™**ï¼šè¿™äº›éšçŠ¶æ€åŒ…å«äº†LSTMå¯¹åºåˆ—æ¨¡å¼çš„"ç†è§£"å’Œ"å›°æƒ‘"
- **å¼‚å¸¸æ¨¡å¼æ•æ‰**ï¼šä¸åŒç±»å‹çš„å¼‚å¸¸ä¼šåœ¨éšçŠ¶æ€ä¸­äº§ç”Ÿä¸åŒçš„"æ‰°åŠ¨æ¨¡å¼"

### 3.2 DeepLogåŸç†çš„æ‰©å±•åº”ç”¨

#### **åŒå¤´æ¶æ„è®¾è®¡**
```python
# åœ¨ enhanced_model.py ä¸­
class EnhancedDeepLogModel(nn.Module):
    def __init__(self, config, num_event_types, num_anomaly_types, feature_dim):
        # åºåˆ—é¢„æµ‹å¤´ï¼ˆåŸå§‹DeepLogåŠŸèƒ½ï¼‰
        self.sequence_head = nn.Sequential(
            nn.Linear(self.hidden_size, self.hidden_size // 2),
            nn.ReLU(),
            nn.Linear(self.hidden_size // 2, num_event_types)  # é¢„æµ‹ä¸‹ä¸€ä¸ªäº‹ä»¶
        )
        
        # å¼‚å¸¸åˆ†ç±»å¤´ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
        self.anomaly_head = nn.Sequential(
            nn.Linear(self.hidden_size + self.feature_dim, self.hidden_size // 2),
            nn.Linear(self.hidden_size // 2, num_anomaly_types)  # åˆ†ç±»å¼‚å¸¸ç±»å‹
        )
```

**è®¾è®¡ç†å¿µ**ï¼š
- **è¾“å…¥1ï¼ˆåŸå§‹åºåˆ—ï¼‰**ï¼šè®©æ¨¡å‹åƒæ ‡å‡†DeepLogä¸€æ ·å­¦ä¹ åºåˆ—çš„åº•å±‚æ¨¡å¼
- **è¾“å…¥2ï¼ˆç‰¹å¾å‘é‡ï¼‰**ï¼šæä¾›å…³äºåºåˆ—æ¨¡å¼çš„å…ˆéªŒä¿¡æ¯ï¼ŒåŠ é€Ÿæ”¶æ•›

### 3.3 å…·ä½“çš„æŠ€æœ¯å®ç°å¯¹æ¯”

| æ–¹é¢ | åŸå§‹DeepLog | å¢å¼ºDeepLog | åˆ©ç”¨å…³ç³» |
|------|-------------|-------------|----------|
| **è®­ç»ƒæ•°æ®** | ä»…æ­£å¸¸æ—¥å¿— | ä»…æ­£å¸¸æ—¥å¿—ï¼ˆé˜¶æ®µä¸€ï¼‰ | âœ… å®Œå…¨ä¿ç•™ |
| **æ¨¡å‹æ¶æ„** | LSTM + å…¨è¿æ¥ | LSTM + åŒå¤´è¾“å‡º | âœ… æ‰©å±•ä¿ç•™ |
| **å­¦ä¹ ç›®æ ‡** | é¢„æµ‹ä¸‹ä¸€ä¸ªäº‹ä»¶ | é¢„æµ‹ä¸‹ä¸€ä¸ªäº‹ä»¶ + å¼‚å¸¸åˆ†ç±» | âœ… åŠŸèƒ½æ‰©å±• |
| **å¼‚å¸¸æ£€æµ‹** | é¢„æµ‹å¤±è´¥å³å¼‚å¸¸ | é¢„æµ‹å¤±è´¥ + éšçŠ¶æ€åˆ†æ | âœ… åŸç†å¢å¼º |
| **è¾“å‡ºç»“æœ** | äºŒåˆ†ç±»ï¼ˆæ­£å¸¸/å¼‚å¸¸ï¼‰ | å¤šåˆ†ç±»ï¼ˆæ­£å¸¸/å¼‚å¸¸ç±»å‹1/2/3...ï¼‰ | âœ… èƒ½åŠ›æå‡ |

### 3.4 å…³é”®åˆ›æ–°ç‚¹çš„DeepLogåŸºç¡€

#### **éšçŠ¶æ€ç‰¹å¾æå–**
```python
# åŸå§‹DeepLogåªå…³æ³¨é¢„æµ‹ç»“æœ
if next_event not in top_k_predictions:
    anomaly_detected = True

# å¢å¼ºDeepLogè¿˜åˆ©ç”¨éšçŠ¶æ€
lstm_out, (hidden, cell) = model.lstm(sequence)
deep_features = hidden[-1]  # æå–éšçŠ¶æ€ä½œä¸ºç‰¹å¾
```

#### **å¤šä»»åŠ¡å­¦ä¹ **
```python
def forward(self, x_seq, x_feat):
    # ä»»åŠ¡1ï¼šåºåˆ—é¢„æµ‹ï¼ˆDeepLogåŸå§‹åŠŸèƒ½ï¼‰
    sequence_pred = self.sequence_head(sequence_features)
    
    # ä»»åŠ¡2ï¼šå¼‚å¸¸åˆ†ç±»ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰
    combined_features = torch.cat([sequence_features, x_feat], dim=1)
    anomaly_pred = self.anomaly_head(combined_features)
    
    return sequence_pred, anomaly_pred
```

### 3.5 æ€»ç»“

è¿™ä¸ªå¢å¼ºæ¨¡å‹**ä¸æ˜¯æ›¿ä»£**DeepLogï¼Œè€Œæ˜¯**åœ¨DeepLogåŸºç¡€ä¸Šçš„æ‰©å±•**ï¼š

1. **å®Œå…¨ä¿ç•™**äº†DeepLogçš„æ ¸å¿ƒåŸç†ï¼ˆæ­£å¸¸æ¨¡å¼å­¦ä¹ ã€åºåˆ—é¢„æµ‹ã€å¼‚å¸¸æ£€æµ‹æœºåˆ¶ï¼‰
2. **åˆ›æ–°åˆ©ç”¨**äº†DeepLogçš„ä¸­é—´äº§ç‰©ï¼ˆLSTMéšçŠ¶æ€ï¼‰ä½œä¸ºæ–°çš„ç‰¹å¾
3. **åŠŸèƒ½æ‰©å±•**äº†DeepLogçš„è¾“å‡ºèƒ½åŠ›ï¼ˆä»äºŒåˆ†ç±»åˆ°å¤šåˆ†ç±»ï¼‰
4. **æ¶æ„å¢å¼º**äº†DeepLogçš„æ¨¡å‹è®¾è®¡ï¼ˆåŒå¤´è¾“å‡ºã€æ³¨æ„åŠ›æœºåˆ¶ï¼‰

è¿™ç§è®¾è®¡ç¡®ä¿äº†å¢å¼ºæ¨¡å‹æ—¢ä¿æŒäº†DeepLogçš„æœ‰æ•ˆæ€§ï¼Œåˆå®ç°äº†æ›´ç»†ç²’åº¦çš„å¼‚å¸¸åˆ†ç±»èƒ½åŠ›ã€‚

## 4. é¡¹ç›®ç»“æ„

```
enhanced_deeplog/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ model_config.json       # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                    # åŸå§‹æ•°æ®
â”‚   â””â”€â”€ processed/              # å¤„ç†åçš„ç‰¹å¾æ•°æ®
â”œâ”€â”€ diagnostics/
â”‚   â””â”€â”€ evaluate_base_model.py  # ç”¨äºè¯„ä¼°åŸºç¡€æ¨¡å‹çš„è¯Šæ–­è„šæœ¬
â”œâ”€â”€ models/                     # å­˜æ”¾è®­ç»ƒå¥½çš„æ¨¡å‹
â”œâ”€â”€ results/                    # å­˜æ”¾å›¾è¡¨ã€æŠ¥å‘Šç­‰ç»“æœ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ 00_generate_synthetic_data.py
â”‚   â”œâ”€â”€ 01_train_base_model.py
â”‚   â”œâ”€â”€ 02_extract_features.py
â”‚   â”œâ”€â”€ 03_cluster_anomalies.py
â”‚   â””â”€â”€ 04_train_multiclass_model.py
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_model.py           # SimpleLSTMåŸºç¡€æ¨¡å‹
â”‚   â”œâ”€â”€ clustering.py
â”‚   â”œâ”€â”€ data_preprocessing.py
â”‚   â”œâ”€â”€ enhanced_model.py
â”‚   â”œâ”€â”€ feature_engineering.py
â”‚   â”œâ”€â”€ prediction.py
â”‚   â””â”€â”€ training.py
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_utils.py
â”‚   â””â”€â”€ evaluation.py
â”œâ”€â”€ run_pipeline.py             # ä¸²è”æ‰€æœ‰è„šæœ¬çš„ä¸»è¿è¡Œæ–‡ä»¶ (å¾…å®ç°)
â””â”€â”€ README.md
```

## 5. å¿«é€Ÿå¼€å§‹

1.  **å®‰è£…ä¾èµ–**:
    ```bash
    pip install -r requirements.txt
    ```

2.  **ç”Ÿæˆæ•°æ®**:
    ```bash
    python3 scripts/00_generate_synthetic_data.py
    ```

3.  **è¿è¡ŒPipeline (æŒ‰é¡ºåºæ‰§è¡Œ)**:
    ```bash
    python3 scripts/01_train_base_model.py
    python3 scripts/02_extract_features.py
    python3 scripts/03_cluster_anomalies.py
    python3 scripts/04_train_multiclass_model.py
    ```

## ğŸ“– æ–‡æ¡£ä½¿ç”¨æŒ‡å—

### ğŸ¯ æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–‡æ¡£

#### å¦‚æœæ‚¨æ˜¯**ç ”ç©¶äººå‘˜**ï¼š
- ä» **[æŠ€æœ¯è®ºæ–‡](guide/technical_paper.md)** å¼€å§‹ï¼Œäº†è§£ç†è®ºåŸºç¡€å’Œå®éªŒè®¾è®¡
- æŸ¥çœ‹ **[é¡¹ç›®åŸç†](guide/project_principles.md)** äº†è§£æŠ€æœ¯å®ç°ç»†èŠ‚
- å‚è€ƒ **[å¬å›ç‡æå‡ç­–ç•¥](guide/recall_improvement_strategies.md)** è¿›è¡Œæ¨¡å‹ä¼˜åŒ–

#### å¦‚æœæ‚¨æ˜¯**å·¥ç¨‹å¸ˆ**ï¼š
- ä» **[å¿«é€Ÿå¼€å§‹](guide/quick_start.md)** å¼€å§‹ï¼Œå¿«é€Ÿä¸Šæ‰‹é¡¹ç›®
- æŸ¥çœ‹ **[APIå‚è€ƒ](guide/api_reference.md)** äº†è§£å…·ä½“æ¥å£
- å‚è€ƒ **[æŠ€æœ¯æ¦‚è§ˆ](guide/technical_overview.md)** ç†è§£æ•´ä½“æ¶æ„

#### å¦‚æœæ‚¨æ˜¯**è¿ç»´äººå‘˜**ï¼š
- ä» **[é¡¹ç›®åŸç†](guide/project_principles.md)** å¼€å§‹ï¼Œäº†è§£ç³»ç»Ÿå·¥ä½œåŸç†
- æŸ¥çœ‹ **[å¿«é€Ÿå¼€å§‹](guide/quick_start.md)** å­¦ä¹ å¦‚ä½•éƒ¨ç½²
- å‚è€ƒ **[æ–‡æœ¬å¤„ç†æŒ‡å—](guide/text_processing_guide.md)** äº†è§£æ—¥å¿—å¤„ç†

#### å¦‚æœæ‚¨æƒ³**æ·±å…¥ç®—æ³•**ï¼š
- æŸ¥çœ‹ **[æ»‘åŠ¨çª—å£ç®—æ³•](guide/sliding_window_explanation.md)** äº†è§£æ ¸å¿ƒç®—æ³•
- å‚è€ƒ **[å¬å›ç‡æå‡ç­–ç•¥](guide/recall_improvement_strategies.md)** å­¦ä¹ ä¼˜åŒ–æ–¹æ³•
- æŸ¥çœ‹ **[æŠ€æœ¯è®ºæ–‡](guide/technical_paper.md)** äº†è§£æ•°å­¦åŸç†

### ğŸ” æ–‡æ¡£å¯¼èˆªå»ºè®®

1. **é¦–æ¬¡æ¥è§¦é¡¹ç›®**ï¼š`å¿«é€Ÿå¼€å§‹` â†’ `é¡¹ç›®åŸç†` â†’ `æŠ€æœ¯æ¦‚è§ˆ`
2. **å­¦æœ¯ç ”ç©¶**ï¼š`æŠ€æœ¯è®ºæ–‡` â†’ `é¡¹ç›®åŸç†` â†’ `å¬å›ç‡æå‡ç­–ç•¥`
3. **å·¥ç¨‹å®ç°**ï¼š`å¿«é€Ÿå¼€å§‹` â†’ `APIå‚è€ƒ` â†’ `æ»‘åŠ¨çª—å£ç®—æ³•`
4. **æ€§èƒ½ä¼˜åŒ–**ï¼š`å¬å›ç‡æå‡ç­–ç•¥` â†’ `æŠ€æœ¯è®ºæ–‡` â†’ `é¡¹ç›®åŸç†`

### ğŸ“ æ–‡æ¡£åé¦ˆ

å¦‚æœæ‚¨å‘ç°æ–‡æ¡£ä¸­çš„é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿ï¼š
- æäº¤Issueåˆ°é¡¹ç›®ä»“åº“
- å‘é€é‚®ä»¶åˆ°é¡¹ç›®ç»´æŠ¤è€…
- å‚ä¸æ–‡æ¡£è´¡çŒ®

### ğŸ”— ç›¸å…³èµ„æº

- **åŸå§‹DeepLogè®ºæ–‡**ï¼š[DeepLog: Anomaly Detection and Diagnosis from System Logs through Deep Learning](https://dl.acm.org/doi/10.1145/3132747.3132785)
- **HDFSæ•°æ®é›†**ï¼š[HDFS Dataset](https://github.com/logpai/loghub)
- **ç›¸å…³å·¥å…·**ï¼š[LogPai](https://github.com/logpai/loglizer) 