# Enhanced DeepLog 快速开始指南

## 系统要求

### 硬件要求
- **CPU**: 4核心以上
- **内存**: 8GB以上
- **GPU**: 推荐使用GPU加速（可选）
- **存储**: 至少10GB可用空间

### 软件要求
- **操作系统**: Linux/macOS/Windows
- **Python**: 3.8或更高版本
- **CUDA**: 11.0或更高版本（如果使用GPU）

## 安装步骤

### 1. 克隆项目
```bash
git clone https://github.com/example/enhanced-deeplog.git
cd enhanced-deeplog
```

### 2. 创建虚拟环境
```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# 或
venv\Scripts\activate  # Windows
```

### 3. 安装依赖
```bash
pip install -r requirements.txt
```

## 数据准备

### 1. 数据格式
Enhanced DeepLog 支持以下数据格式：
- **文本文件**: 每行一个日志序列，事件用空格分隔
- **CSV文件**: 包含序列ID和事件序列的表格格式
- **JSON文件**: 结构化的日志数据

### 2. 数据示例
```
1 2 3 4 5 6 7 8 9 10
2 3 4 5 6 7 8 9 10 11
1 3 5 7 9 11 13 15 17 19
```

### 3. 数据放置
将数据文件放置在 `data/raw/` 目录下：
```
enhanced_deeplog/
└── data/
    └── raw/
        ├── train_data.txt
        ├── test_data.txt
        └── validation_data.txt
```

## 配置设置

### 1. 基础配置
编辑 `config/model_config.json` 文件，根据你的数据调整参数：

- **数据配置**: 序列长度、事件类型数量
- **特征配置**: 启用/禁用不同类型的特征
- **聚类配置**: 聚类数量和算法选择
- **模型配置**: 神经网络架构参数
- **训练配置**: 学习率、批次大小等

### 2. 参数说明
- `max_sequence_length`: 最大序列长度（默认50）
- `num_event_types`: 事件类型数量
- `n_clusters`: 聚类数量（默认3）
- `lstm_hidden_size`: LSTM隐藏层大小（默认128）
- `batch_size`: 训练批次大小（默认64）

## 运行流程

### 1. 数据预处理
系统会自动执行以下预处理步骤：
- 序列补齐到统一长度
- 事件ID映射
- 数据清洗和格式转换
- 统计信息分析

### 2. 特征提取
自动提取三类特征：
- **统计特征**: 20维基础统计量
- **预测特征**: 15维预测相关特征
- **模式特征**: 25维模式分析特征

### 3. 聚类分析
使用K-means算法自动发现异常模式：
- 对特征向量进行聚类
- 计算聚类质量指标
- 生成异常类型标签

### 4. 模型训练
训练改进的LSTM模型：
- 双头架构训练
- 多任务学习
- 早停和验证

### 5. 结果评估
生成详细的评估报告：
- 分类性能指标
- 聚类质量评估
- 特征重要性分析

## 输出结果

### 1. 模型文件
- `models/enhanced_deeplog_model.pth`: 训练好的模型
- `models/best_model.pth`: 最佳性能模型

### 2. 结果文件
- `results/training_history.json`: 训练历史
- `results/evaluation_results.json`: 评估结果
- `data/processed/preprocessing_info.json`: 预处理信息

### 3. 特征文件
- `data/features/extracted_features.npy`: 提取的特征
- `data/features/feature_names.txt`: 特征名称列表

## 常见问题

### 1. 内存不足
- 减少批次大小
- 降低序列长度
- 使用数据采样

### 2. 训练时间过长
- 启用GPU加速
- 减少训练轮数
- 使用更小的模型

### 3. 聚类效果不佳
- 调整聚类数量
- 检查数据质量
- 尝试不同的聚类算法

### 4. 模型性能不理想
- 增加训练数据
- 调整超参数
- 检查特征质量

## 性能优化

### 1. 数据优化
- 确保数据质量和完整性
- 平衡各类别样本数量
- 移除噪声和异常值

### 2. 参数调优
- 使用网格搜索优化超参数
- 根据数据特点调整模型架构
- 优化特征组合

### 3. 训练优化
- 使用学习率调度
- 实施早停机制
- 监控训练过程

## 部署建议

### 1. 生产环境
- 使用Docker容器化部署
- 配置监控和日志
- 实施备份和恢复策略

### 2. 实时预测
- 优化推理速度
- 实现批量预测
- 添加缓存机制

### 3. 模型更新
- 支持增量学习
- 定期重新训练
- 版本管理和回滚

## 扩展功能

### 1. 自定义特征
- 添加领域特定特征
- 实现新的特征提取方法
- 集成外部特征

### 2. 多模态融合
- 结合其他数据源
- 实现多模态特征融合
- 支持异构数据处理

### 3. 可解释性
- 特征重要性分析
- 注意力权重可视化
- 决策路径解释

## 技术支持

### 1. 文档资源
- 技术原理说明
- API参考文档
- 示例代码和教程

### 2. 社区支持
- GitHub Issues
- 讨论论坛
- 邮件支持

### 3. 更新维护
- 定期版本更新
- 安全补丁发布
- 功能增强和改进 